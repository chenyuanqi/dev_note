
比特币的三大环节

### 比特币的上游 —— 挖矿
> 如何参与挖矿？  
> 1、选择一个矿池，在矿池注册一个账号，填入子账户、密码  
> 2、填写好你的比特币地址（或者你的钱包地址，挖到比特币就会转入）  
> 3、给矿机插上电源和网线，然后开机便可起动运行  
> 4、接通电源后，矿机自动分配 IP 地址，扫描最新接入设备 IP 地址后进入后台  
> 5、在后台，设置矿池的账号即可  
> 6、矿机的后台显示矿机的实时状态，而矿机本身的显示也比较傻瓜化，基本两个指示灯（一个显示是否正常运行，一个显示是否存在故障）  

围绕着比特币挖矿进行的所有企业，大部分属于比特币的上游企业，如矿机的设计、生产，矿场和发电设备的建设、矿池的运营。  
比特币的存储其实是放在上游，因为比特币诞生之际就需要解决存储的问题。  

比特币挖矿的早期，使用普通电脑的 CPU 即可，后来拿 10000 枚比特币换披萨的程序员使用 GPU，带动了全球显卡卖断货。   
随着挖矿算力的不断上升，GPU 也达到了算力的上限，所以有人专门发明了专门挖矿的专业设备 ——“矿机”。  

选择矿机，一看算力，二看功耗，三看历史口碑，包括机器的稳定性和售后服务情况等。  
以前，个人挖矿是可行的；但是现在挖矿，基本都是规模化，而且需要与矿池合作，所以，个人挖比特币就想想算了吧。  

一个矿场的成本有: 维护成本（电力、人力）、网络成本、建设成本、设备成本，还有其他的成本。一般来说，矿场会建在电费相对较便宜且稳定的地方。    
矿场噪音是比较大的，有些地方经过设计和装修改造，出现了静音矿场。  
运营矿场是有风险的，包括政策上的、技术上的，还有前期投入等等费用消耗。  

矿池是矿机们算力的集合。  
矿机负责进行哈希运算（算力竞争），矿池负责交易信息的打包（记账）。  
矿池的两种主流合作模式： PPS（Pay Per Share，即根据算力在矿池的占比获取每日固定收益） 和 PPLNS（Pay Per Last N Shares，即根据过去的 N 个股份来支付收益，固定投入动态收益，带运气成分；如很长时间没有挖出区块，可能就没有收益）。  

### 比特币的中游 —— 交易和存储
市场深度，由同一价位所有未成交的买单或者卖单构成，是指平台在承受大额交易时币价不出现大幅波动的能力。市场深度越深表明市场越稳定、成熟。  
市场流动性，是指在市场迅速买卖比特币而不受阻的能力。流动性越好，表现在你买卖比特币时等待成交的时间越短（时间越长，则需要承受价格波动的风险），交易平台的交易越活跃。  
市场深度和市场流动性才是考验平台优质的重要标准，而交易量不一定准确。  

比特币的 API 用户，类似于传统金融市场里的自动化交易（量化交易）。比如你根据自己的策略，设置好交易的策略和参数，启动程序即可完成自动化交易。  

交易对，是指用一种资产去定价另一种资产。比如美元定价比特币就形成一个比特币和美元的交易对。  

场内交易，是指在交易平台上进行撮合，买卖价格公开，平台实时显示当前报价，你不需要知道对方是谁。  
场外交易，又叫 OTC 交易，是指没有统一的交易市场和交易场所的一种交易方式，你需要自己去寻找你的对手方，跟 TA 讨价还价，最后达成一致。  
比特币和法定货币的交易，即币币交换，中间不涉及任何法定货币的结算。知名的交易平台有 Poloniex(P 网)、Bittrex(B 网)。当然，也有像以太坊（ETH）和比特币这样的币币交易。现在市场上的币币交易占到了整个交易的一半以上。  
涉及法定货币的场内交易有一个显著的特点，就是要符合当地的金融法律法规，会对用户进行严格的认证和反洗钱制度，实行平台保证资金来源合法的义务。  
比特币的场内交易，是全球 7* 24 小时交易，没有收盘时间，目前也没有涨跌幅的限制，交易为 “T+0”（随买随卖）。  

私钥、地址这些东西，需要一个叫比特币钱包的东西统一管理，比特币钱包就相当于你的实物钱包，而地址就相当于你钱包里一张张银行卡，私钥则是你的银行卡密码。  
从密码学上来说，私钥是安全的。因为私钥本质上是由 32 个字节组成的数组，1个字节等于8位二进制，也就是一个二进制只有 0 或者 1 两种可能性，所以私钥的总数是 2 的 256 次方种可能性，这个数且已经超越了全宇宙中原子的总数了，不可能通过遍历字典找出秘钥。但是，并不是说不可能出现重复的秘钥。  
根据联网特性，钱包分在线钱包和离线钱包。在线钱包就是连着网生成私钥或者连着网运行的钱包，也叫热钱包；离线钱包就是不连网的钱包，也叫冷钱包，因为操作比较复杂，安全度更高，适合有技术背景的人。  

三类比较适合大众的钱包：全节点钱包、轻钱包、中心化钱包。  
全节点钱包也是早期的钱包形态，比特币网络至今为止所有的数据它都包括；  
轻钱包只维护跟你自己的交易相关的数据，不同步其他数据，也属于去中心化的钱包；  
中心化钱包完全依赖于运行这个钱包的公司的服务器，不同步比特币网络数据。  
随着技术的发展，“多重签名”的钱包得到广泛应用，所谓的多重，即多个私钥（签名）保障地址上的比特币。  

存储和管理比特币资产的几个步骤
> 第一，从比特币官方网站或其他数字资产的官方网站选择钱包  
> 第二，从官方的渠道下载。尽量从官方网站、从谷歌、苹果的官方应用商店下载钱包  
> 第三，私钥做好备份  
> 第四，及时关注技术发展动态，查漏补缺  


### 比特币的下游 ——  扩容和分叉的应用
比特币每个区块大小是 1 M，能容纳 1000 条左右的交易信息。所以，扩大比特币区块容量（1 M 的大小限制）的过程就是扩容。  
比特币扩容的方案有很多，总体分为两种，一种是不碰比特币本身的区块，用闪电网络（最后结算机制）去进行比特币的结算，将大量的交易置于比特币本身的网络之外；一种是直接扩大区块的大小。  

关于比特币本身大小的扩容，有三个主要的方案 BIP141、UASF、SegWit2x。  
BIP141 是比特币 Core 团队提出的隔离见证方案，即隔离原有区块的见证信息，只保存区块的交易信息；BIP141 是当前公认的隔离见证激活方案，激活条件是在 2017 年 11 月 15 日前任意一个难度周期（约为两周）内，如果有 95% 的算力发出准备就绪信号的话，隔离见证将被激活。但是，这个条件很难实现。  
UASF 是由用户激活的软分叉，采用 BIP148 软件激活隔离验证，即 BIP148 节点会在链上看到超过 95% 的区块包含 bit1 而触发验证。这个方案的实施诞生了新的区块链资产 —— 比特币现金，区块大小上升到 8 M。  
SegWit2x 是由一些比特币公司和 80% 算力以上的矿工签署纽约共识、协议，通过 BIP91 来激活隔离验证。当连续两天内有 80% 的算力发出支持 BIP91 信号，所有 BIP91 节点将拒绝所有不含 BIP141 准备信号的区块。SegWit2x 将通过硬分叉把区块大小上升到 2M，同时可能导致新的分叉。  

硬分叉是当比特币协议规则发生改变，如果发生旧节点拒绝接受由新节点创造的区块的情况时，区块链将分成2条独立的链。矿工需要在2条区块链中选择一条进行挖矿。  
软分叉是当比特币协议规则发生改变，旧的节点并不会意识到规则是不同的，它们将遵循改变后的规则，并且接受由新节点创造的区块。因此软分叉不会产生2条区块链，而是在原区块链上同时新、旧并存。这相当于软件的向前兼容。  
比特币分叉，最大的风险就是“重放攻击”，即每条链上的地址和私钥生产算法相同，交易格式也相同，很可能导致其中一条链上的交易在另一条链上完全合法。  
那么，如何防止“重放攻击”呢？一种方法是在分叉尘埃落定之前不要转账比特币，之后再分别转到两个不同的地址，直到资产彻底分离完成为止再进行比特币交易，这个方法可能消耗大量时间和手续费；另一方法是将自己的比特币放进靠谱的钱包或交易平台。

### 世界各国对比特币的政策变化
从全球来看，美国、日本对比特币的监管走在了世界前列，英国、加拿大、澳大利亚、瑞士等国家也认可比特币的积极意义，正在着手制定相关的监管法规来规范行业发展。俄罗斯和泰国则由原来的禁止也转向了放松。  

全球第一个承认比特币合法地位的国家是德国。在2013年8月的时候，德国政府表示，比特币可以当做私人货币和货币单位，个人使用比特币的话会有一年的免税优惠，进行商业用途时要征收一定比例的税收。在2016年10月，德国一家提供比特币借贷业务的公司还宣布获得了德国联邦金融监管局( BaFin )颁发的牌照。到目前为止，德国是世界上少数的针对比特币交易制定了较为清晰的监管和法规政策的国家之一。  

美国、日本对比特币的监管走在了世界前列，虽然美国主要监管机构和各个州对比特币的政策各不相同，但总的来看它对比特币的监管都更先进、更成熟。日本对比特币的态度则非常积极，承认比特币的「支付」属性之外，停止收取比特币交易的消费税，另外还颁发了第一批比特币交易所牌照，并对日本境内的比特币交易所进行全方位监管。  

英国、德国以及丹麦、挪威等北欧国家也认可比特币的积极意义，不过法国的态度不太一样，不认为比特币是一种合法货币，除此之外还加强了比特币交易平台的管理，要求每一笔比特币交易必须是实名交易比特币所产生的收入也要交税。  

俄罗斯对比特币的态度还存在很多争议，不同部门对比特币是否作为合法货币存在不同看法。官方在2017年6月的最新表态是「比特币是一种数字资产，而非虚拟货币」。  

中国对比特币的官方政策的规定，比特币在中国定性为“虚拟商品”，央行要求各金融机构不得参与到比特币相关的业务中，同时要求各交易平台做好备案和反洗钱义务。  
