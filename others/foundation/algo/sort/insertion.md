
### 插入排序
首先，我们将数组中的数据分为两个区间，已排序区间和未排序区间。  
初始已排序区间只有一个元素，就是数组的第一个元素。  
插入算法的核心思想是取未排序区间中的元素，在已排序区间中找到合适的插入位置将其插入，并保证已排序区间数据一直有序；重复这个过程，直到未排序区间中元素为空，算法结束。  

```php
function insertionSort($arr, $sort = 'ASC')
{
	$length = count($arr);
	if ($length <= 1) {
		return $arr;
	}

    // 未选择区，从数组第 2 个元素（即下标 1）开始
	for ($i=1; $i < $length; $i++) { 
	    // 未选择目标值
		$unselectedValue = $arr[$i];
		// 已选择区，查找插入的位置
		for ($j=$i-1; $j >= 0; --$j) { 
		    // 未选择目标值与已选择区每个元素逐个比较
		    // 不符合顺序的元素，将 j+1 的值移动到 j 的值
			if (($sort === 'ASC' && $arr[$j] > $unselectedValue) 
			|| ($sort === 'DESC' && $arr[$j] < $unselectedValue)) {
				$arr[$j+1] = $arr[$j];
			} else {
			    // 找到符合顺序的位置
				break;
			}
		}

		if ($j + 1 !== $i) {
		    $arr[$j+1] = $unselectedValue;
		}
	}
	return $arr;
}
```

比如 1 3 2 这几个数按升序排序，第一步把 3 作为未选择的目标值，已选择区只有 1；已选择的数字逐个与 3 对比，符合顺序不需要移动位置。  
第二步把 2 作为未选择的目标值，已选择区是 1 3，首先 3 与 2 对比，不符合顺序，将 3 移动到 2 现在的位置；1 与 2 对比，符合规则不需要移动，此时找到插入的位置就是在 1 之后，插入数值即可。  
