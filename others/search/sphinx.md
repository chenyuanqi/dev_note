
### 什么是 Sphinx
Sphinx 是一个全文检索引擎，是一款基于 SQL 的高性能全文检索引擎。   
Sphinx 特性如下：  

- 索引和性能优异
- 易于集成 SQL 和 XML 数据源，并可使用 SphinxAPI、SphinxQL 或者 SphinxSE 搜索接口
- 易于通过分布式搜索进行扩展
- 高速的索引建立 (在当代 CPU 上，峰值性能可达到 10 ~ 15MB / 秒)
- 高性能的搜索 (在 1.2G 文本，100 万条文档上进行搜索，支持高达每秒 150~250 次查询)


### 为什么是 Sphinx
使用 Sphinx 搜索引擎对数据做索引，数据一次性加载进来，然后做了索引之后保存在内存。这样用户进行搜索的时候就只需要在 Sphinx 服务器上检索数据即可。而且，Sphinx 没有 MySQL 的伴随机磁盘 I/O 的缺陷，性能更佳。

### Sphinx 工作原理

![Sphinx 工作流程图]()  

- Database：数据源，是 Sphinx 做索引的数据来源。因为 Sphinx 是无关存储引擎、数据库的，所以数据源可以是 MySQL、PostgreSQL、XML 等数据。
- Indexer：索引程序，从数据源中获取数据，并将数据生成全文索引。可以根据需求，定期运行 Indexer 达到定时更新索引的需求。
- Searchd：Searchd 直接与客户端程序进行对话，并使用 Indexer 程序构建好的索引来快速地处理搜索查询。
- APP：客户端程序。接收来自用户输入的搜索字符串，发送查询给 Searchd 程序并显示返回结果。

Sphinx 的整个工作流程就是 Indexer 程序到数据库里面提取数据，对数据进行分词，然后根据生成的分词生成单个或多个索引，并将它们传递给 searchd 程序。  
客户端可以通过 API 调用进行搜索。
