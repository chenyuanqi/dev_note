
### 直播技术
搭建直播平台的技术实现分为三块：直播发起端、后台服务端、以及观看客户端。  

我们以H5应用为例。首先看直播发起端，需要借助 Navigator 对象的 getUserMedia 方法调用本地摄像头采集视频流，然后通过 WebSocket 将视频流上传到服务器。  

在服务器端，由于我们整体基于 HLS 协议进行直播，所以需要通过 FFmpeg 将视频流转码为 TS 格式存储。
最后在客户端，我们基于 HLS 协议从后台拉取编码后的视频流，对视频流进行解码后进行播放即可。

> HLS 协议  
> HTTP Live Streaming（缩写是 HLS）是一个由苹果公司提出的基于 HTTP 的流媒体网络传输协议。  
> 它的工作原理是把整个流分成一个个小的基于 HTTP 的文件来下载，每次只下载一些。  
> 当媒体流正在播放时，客户端可以选择从许多不同的备用源中以不同的速率下载同样的资源，允许流媒体会话适应不同的数据速率。  
> HLS 只请求基本的 HTTP 报文，与实时传输协议（RTP) 不同，HLS 可以穿过任何允许 HTTP 数据通过的防火墙或者代理服务器。  

